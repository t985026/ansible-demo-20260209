# ğŸ”„ Demo æ›´æ–°æ—¥èªŒ

## ç‰ˆæœ¬ 1.1 - 2026-02-09

### ğŸ”§ è®Šæ›´å…§å®¹

#### 1. ç§»é™¤é˜²ç«ç‰†é…ç½®

**åŸå› **: Killercoda ç’°å¢ƒé è¨­é˜²ç«ç‰†æœå‹™é—œé–‰

**è®Šæ›´å…§å®¹**:

#### 1. web_server_setup.yml

- âŒ ç§»é™¤: UFW é˜²ç«ç‰†å•Ÿç”¨ä»»å‹™ï¼ˆç¬¬ 106-108 è¡Œï¼‰
- âœ… æ›´æ–°: ä»»å‹™ç·¨è™Ÿå¾ 19/20 èª¿æ•´ç‚º 13/14
- âœ… ç°¡åŒ–: éšæ®µå¾ä¸ƒå€‹æ¸›å°‘åˆ°å…­å€‹

**ä¿®æ”¹å‰**:

```yaml
# --- éšæ®µä¸ƒï¼šç¶²è·¯å®‰å…¨æ€§ ---
- name: 16. Enable UFW (å•Ÿç”¨ UFW é˜²ç«ç‰†)
  ufw:
    state: enabled
```

**ä¿®æ”¹å¾Œ**:

```yaml
# (å·²ç§»é™¤æ­¤æ®µè½)
```

#### 2. Readme.md

- âŒ ç§»é™¤: "é˜²ç«ç‰†å·²é…ç½®" é©—è­‰é …ç›®
- âœ… ä¿ç•™: Nginxã€ç¶²ç«™ç›®éŒ„ã€è‡ªè¨‚é¦–é é©—è­‰é …

#### 3. CHECKLIST.md

- âŒ ç§»é™¤: "éŒ¯èª¤ 4: UFW é˜²ç«ç‰†é˜»æ“‹" æ’æŸ¥èªªæ˜
- âœ… ä¿ç•™: SSHã€Ansibleã€æ¬Šé™ç›¸é—œçš„æ•…éšœæ’é™¤

#### 2. è®Šæ•¸ç®¡ç†æ¨™æº–åŒ– (group_vars)

**åŸå› **: æ¡ç”¨ Ansible æ¨™æº–çš„ `group_vars` ç›®éŒ„çµæ§‹ï¼Œä¾¿æ–¼æ“´å……å’Œç®¡ç†

**è®Šæ›´å…§å®¹**:

**ç›®éŒ„çµæ§‹é‡æ§‹**:

- âœ… **å‰µå»º**: `group_vars/` ç›®éŒ„
- âœ… **å‰µå»º**: `group_vars/webservers.yml` - webservers ç¾¤çµ„å°ˆç”¨è®Šæ•¸
- âœ… **å‰µå»º**: `group_vars/all.yml` - æ‰€æœ‰ä¸»æ©Ÿå…±ç”¨çš„å…¨åŸŸè®Šæ•¸
- âœ… **ç§»é™¤**: Playbook ä¸­çš„ `vars_files` è²æ˜ï¼ˆä½¿ç”¨è‡ªå‹•è¼‰å…¥ï¼‰

**ä¿®æ”¹å‰** (web_server_setup.yml):

```yaml
vars_files:
  - vars.yml  # æˆ– webservers.yml
```

**ä¿®æ”¹å¾Œ** (web_server_setup.yml):

```yaml
# è®Šæ•¸ä¾†æºï¼šgroup_vars/webservers.yml (è‡ªå‹•è¼‰å…¥)
# Ansible æœƒè‡ªå‹•è¼‰å…¥ group_vars/ ç›®éŒ„ä¸‹å°æ‡‰ç¾¤çµ„åç¨±çš„è®Šæ•¸æ–‡ä»¶
hosts: webservers
```

**group_vars/webservers.yml**:

```yaml
---
# Ansible Demo - Web Server Variables
web_root: /var/www/demo
log_dir: /var/log/nginx_custom
web_user: webadmin
```

**group_vars/all.yml**:

```yaml
---
# æ‰€æœ‰ä¸»æ©Ÿå…±ç”¨çš„è®Šæ•¸
admin_user: ansible_admin
```

**å„ªå‹¢**:

- âœ… ç¬¦åˆ Ansible æœ€ä½³å¯¦è¸å’Œç´„å®šä¿—æˆ
- âœ… è‡ªå‹•è¼‰å…¥æ©Ÿåˆ¶ï¼Œç„¡éœ€æ‰‹å‹•è²æ˜
- âœ… æ˜“æ–¼æ“´å……ï¼ˆå¯æ·»åŠ æ›´å¤šç¾¤çµ„æˆ–ä¸»æ©Ÿç‰¹å®šè®Šæ•¸ï¼‰
- âœ… è®Šæ•¸å„ªå…ˆç´šæ¸…æ™°ï¼ˆgroup_vars < host_vars < playbook varsï¼‰
- âœ… ä¾¿æ–¼ç®¡ç†å¤šç’°å¢ƒé…ç½®

**æœªä¾†æ“´å……å»ºè­°**:

```bash
group_vars/
â”œâ”€â”€ all.yml           # å…¨åŸŸè®Šæ•¸
â”œâ”€â”€ webservers.yml    # webservers ç¾¤çµ„
â”œâ”€â”€ databases.yml     # æœªä¾†å¯æ·»åŠ çš„å…¶ä»–ç¾¤çµ„
â””â”€â”€ monitoring.yml    # ç›£æ§ç¾¤çµ„è®Šæ•¸

host_vars/
â”œâ”€â”€ node01.yml        # ç‰¹å®šä¸»æ©Ÿå°ˆç”¨è®Šæ•¸
â””â”€â”€ controlplane.yml  # æ§åˆ¶ç¯€é»å°ˆç”¨è®Šæ•¸
```

### ğŸ“Š å½±éŸ¿ç¯„åœ

- **ç¸½ä»»å‹™æ•¸**: å¾ 20 å€‹æ¸›å°‘åˆ° 14 å€‹
- **åŸ·è¡Œæ™‚é–“**: é è¨ˆæ¸›å°‘ 10-15 ç§’
- **ç›¸å®¹æ€§**: âœ… å®Œå…¨ç›¸å®¹ Killercoda ç’°å¢ƒ
- **å®‰å…¨æ€§**: â„¹ï¸ Killercoda ç‚ºå­¸ç¿’ç’°å¢ƒï¼Œç„¡éœ€é˜²ç«ç‰†é…ç½®

### âœ… é©—è­‰æ¸…å–®

ç¾åœ¨éƒ¨ç½²å®Œæˆå¾Œæ‡‰çœ‹åˆ°ï¼š

1. âœ… Nginx å·²å®‰è£ä¸¦åŸ·è¡Œ
2. âœ… ç¶²ç«™ç›®éŒ„å·²å‰µå»º (`/var/www/demo`)
3. âœ… è‡ªè¨‚é¦–é å·²éƒ¨ç½²
4. ~~âœ… é˜²ç«ç‰†å·²é…ç½®~~ (å·²ç§»é™¤)

### ğŸ¯ å¾ŒçºŒå»ºè­°

å¦‚æœåœ¨ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨ï¼Œå»ºè­°æ·»åŠ ï¼š

```yaml
# åƒ…ç”Ÿç”¢ç’°å¢ƒéœ€è¦
- name: Configure firewall
  ufw:
    rule: allow
    port: '80'
    proto: tcp
  when: ansible_env.ENVIRONMENT == "production"
```

---

## ç‰ˆæœ¬ 1.0 - 2026-02-09

### åˆå§‹ç™¼å¸ƒ

**ä¸»è¦åŠŸèƒ½**:

- âœ… Nginx è‡ªå‹•å®‰è£èˆ‡é…ç½®
- âœ… ç¶²ç«™ç›®éŒ„å‰µå»ºèˆ‡æ¬Šé™è¨­å®š
- âœ… Jinja2 æ¨¡æ¿éƒ¨ç½²
- âœ… ä½¿ç”¨è€…ç®¡ç†
- âœ… æ—¥èªŒç›®éŒ„é…ç½®
- âœ… Handlers è‡ªå‹•é‡å•Ÿæœå‹™

**æ”¯æ´ç’°å¢ƒ**:

- Killercoda Ubuntu Playground
- æœ¬åœ°è™›æ“¬æ©Ÿç’°å¢ƒ
- æ¸¬è©¦èˆ‡åŸ¹è¨“å ´æ™¯

---

**ç¶­è­·è€…**: Ansible Demo Project Team  
**æœ€å¾Œæ›´æ–°**: 2026-02-09 14:00
